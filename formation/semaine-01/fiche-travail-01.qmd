---
title: "Fiche de travail ‚Äî Semaine 1"
subtitle: "Exercices pratiques et livrables √† produire"
author: "Fran√ßois Boussengui"
date: last-modified
title-block-banner: "#06436e"
title-block-banner-color: "rgb(251, 225, 174)"
toc: true
toc-depth: 2
---

```{r echo=FALSE}
knitr::opts_chunk$set(echo=FALSE, message=FALSE, warning=FALSE, error=FALSE, fig.align = "center", out.width = "100%")
```

```{r echo=FALSE}
library(reticulate)
use_virtualenv("/Users/f.b/.virtualenvs/r-reticulate")
```


```{=html}
<style>
.livrable-card {
    background: white;
    border-radius: 12px;
    padding: 1.5rem;
    margin: 1.5rem 0;
    box-shadow: 0 4px 12px rgba(0,0,0,0.08);
    border-left: 4px solid #06436e;
}

.livrable-card.done {
    border-left-color: #72f1b8;
    background: linear-gradient(135deg, #f0fdf4 0%, white 100%);
}

.livrable-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: 1rem;
}

.livrable-title {
    font-weight: bold;
    font-size: 1.1rem;
    color: #06436e;
}

.livrable-status {
    font-size: 0.8rem;
    padding: 0.3rem 0.8rem;
    border-radius: 20px;
    background: #e5e7eb;
    color: #374151;
}

.livrable-status.required {
    background: #fee2e2;
    color: #991b1b;
}

.livrable-status.bonus {
    background: #fef3c7;
    color: #92400e;
}

.exercice-box {
    background: #f8fafc;
    border: 1px solid #e2e8f0;
    border-radius: 10px;
    padding: 1.5rem;
    margin: 1.5rem 0;
}

.exercice-header {
    display: flex;
    align-items: center;
    gap: 0.75rem;
    margin-bottom: 1rem;
    color: #06436e;
    font-weight: bold;
}

.checklist {
    list-style: none;
    padding: 0;
}

.checklist li {
    padding: 0.5rem 0;
    padding-left: 2rem;
    position: relative;
}

.checklist li::before {
    content: "‚òê";
    position: absolute;
    left: 0;
    font-size: 1.2rem;
}

.checklist li.checked::before {
    content: "‚òë";
    color: #72f1b8;
}

.planning-grid {
    display: grid;
    grid-template-columns: repeat(5, 1fr);
    gap: 0.5rem;
    margin: 1.5rem 0;
}

.jour-card {
    background: white;
    border-radius: 8px;
    padding: 1rem;
    box-shadow: 0 2px 4px rgba(0,0,0,0.05);
    font-size: 0.85rem;
}

.jour-card h4 {
    color: #06436e;
    margin: 0 0 0.5rem 0;
    font-size: 0.9rem;
}

.jour-card .metier {
    color: #92400e;
    background: #fef3c7;
    padding: 0.2rem 0.4rem;
    border-radius: 4px;
    display: inline-block;
    margin-bottom: 0.3rem;
    font-size: 0.75rem;
}

.jour-card .technique {
    color: #1e40af;
    background: #dbeafe;
    padding: 0.2rem 0.4rem;
    border-radius: 4px;
    display: inline-block;
    font-size: 0.75rem;
}

.hint-box {
    background: linear-gradient(135deg, #eff6ff 0%, #dbeafe 100%);
    border-left: 4px solid #06436e;
    padding: 1rem 1.25rem;
    border-radius: 0 10px 10px 0;
    margin: 1rem 0;
}

.solution-box {
    background: linear-gradient(135deg, #f0fdf4 0%, #dcfce7 100%);
    border-left: 4px solid #72f1b8;
    padding: 1rem 1.25rem;
    border-radius: 0 10px 10px 0;
    margin: 1rem 0;
}

.reflexion-box {
    background: linear-gradient(135deg, #fef9e6 0%, #fef3c7 100%);
    border-left: 4px solid #f8d65c;
    padding: 1rem 1.25rem;
    border-radius: 0 10px 10px 0;
    margin: 1rem 0;
}

.code-filename {
    background: #1e293b;
    color: #94a3b8;
    padding: 0.5rem 1rem;
    border-radius: 8px 8px 0 0;
    font-family: 'Fira Code', monospace;
    font-size: 0.85rem;
    margin-bottom: -0.5rem;
}

@media (max-width: 768px) {
    .planning-grid {
        grid-template-columns: 1fr;
    }
}
</style>
```

Cette fiche de travail t'accompagne tout au long de la Semaine 1. Elle contient les exercices pratiques, les livrables √† produire, et des pistes de r√©flexion pour faire le lien entre th√©orie et pratique.

---

## üìÖ Planning de la semaine

:::{.planning-grid}

:::{.jour-card}
#### Jour 1
:::{.metier}M√©tier:::
Sections 1-2 du Module 1

:::{.technique}Tech:::
Installation Docker
:::

:::{.jour-card}
#### Jour 2
:::{.metier}M√©tier:::
Sections 3-4 du Module 1

:::{.technique}Tech:::
Concepts & commandes
:::

:::{.jour-card}
#### Jour 3
:::{.metier}M√©tier:::
Section 5 + Auto-√©val

:::{.technique}Tech:::
Premier Dockerfile
:::

:::{.jour-card}
#### Jour 4
:::{.metier}M√©tier:::
R√©vision & questions

:::{.technique}Tech:::
Exercices pratiques
:::

:::{.jour-card}
#### Jour 5
:::{.metier}M√©tier:::
D√©briefing

:::{.technique}Tech:::
Livrable final
:::

:::

---

## üì¶ Livrables √† produire

:::{.livrable-card}
:::{.livrable-header}
:::{.livrable-title}üìù Livrable 1 ‚Äî Fiche de synth√®se Module M√©tier:::
:::{.livrable-status .required}Obligatoire:::
:::

**Objectif** : R√©sumer les concepts cl√©s du Module 1 dans tes propres mots.

**Format** : Document Markdown, Quarto ou PDF (1-2 pages max)

**Contenu attendu** :

1. **Les 5 concepts cl√©s** r√©sum√©s en tes propres mots (pas de copier-coller !)
2. **Un sch√©ma de ton cru** illustrant un concept au choix (spirale de d√©gradation, mutualisation, d√©composition de la prime...)
3. **Un exemple de ton exp√©rience** : relie un concept √† une situation v√©cue chez AON, ASCENTIEL ou APRIL

:::{.hint-box}
**üí° Conseil**

Pense √† la fois o√π tu as vu un portefeuille se d√©grader, ou un cas d'anti-s√©lection, ou un arbitrage entre volume et rentabilit√©. C'est ce genre de lien th√©orie-pratique qui ancre vraiment les concepts.
:::
:::

:::{.livrable-card}
:::{.livrable-header}
:::{.livrable-title}üê≥ Livrable 2 ‚Äî Docker op√©rationnel:::
:::{.livrable-status .required}Obligatoire:::
:::

**Objectif** : Prouver que Docker est install√© et fonctionnel sur ta machine.

**Format** : Capture d'√©cran

**Contenu attendu** :

Capture d'√©cran montrant le r√©sultat des commandes :

```bash
docker --version
docker run hello-world
```

:::{.hint-box}
**üí° Conseil**

Si tu rencontres des probl√®mes d'installation, note les erreurs et on en discutera au d√©briefing. Les probl√®mes courants sont : WSL2 non activ√© sur Windows, permissions sur Linux, ou espace disque insuffisant.
:::
:::

:::{.livrable-card}
:::{.livrable-header}
:::{.livrable-title}üìä Livrable 3 ‚Äî Script Python dockeris√©:::
:::{.livrable-status .required}Obligatoire:::
:::

**Objectif** : Cr√©er et conteneuriser un script Python qui calcule des indicateurs simples.

**Format** : Dossier contenant Dockerfile, requirements.txt, et script Python

**Contenu attendu** :

Un projet avec cette structure :

```
livrable-semaine-01/
‚îú‚îÄ‚îÄ Dockerfile
‚îú‚îÄ‚îÄ requirements.txt
‚îî‚îÄ‚îÄ calcul_prime.py
```

Le script doit calculer et afficher :

- Une **prime pure** √† partir de donn√©es simul√©es
- La **fr√©quence** et la **s√©v√©rit√©**
- Un message de confirmation que le calcul s'est bien ex√©cut√©

Tu peux t'inspirer du script fourni dans le Module Technique 1, ou cr√©er le tien.
:::

:::{.livrable-card}
:::{.livrable-header}
:::{.livrable-title}üåü Livrable 4 ‚Äî Questions et r√©flexions:::
:::{.livrable-status .bonus}Bonus:::
:::

**Objectif** : Pr√©parer le d√©briefing avec des questions pertinentes.

**Format** : Liste de 2-3 questions

**Contenu sugg√©r√©** :

- Points du module m√©tier que tu voudrais approfondir
- Difficult√©s rencontr√©es avec Docker
- Id√©es de lien entre les concepts et ton projet central
:::

---

## üèãÔ∏è Exercices pratiques

### Exercices M√©tier

:::{.exercice-box}
:::{.exercice-header}
üìù Exercice M1 ‚Äî Calcul de prime
:::

Un assureur couvre 5 000 v√©hicules. Les donn√©es historiques montrent :

- Probabilit√© de sinistre par v√©hicule : 8% par an
- Co√ªt moyen d'un sinistre : 2 500 ‚Ç¨
- Frais de gestion : 15% de la prime pure
- Frais d'acquisition : 10% de la prime pure
- Marge souhait√©e : 5% de la prime commerciale

**Questions** :

1. Calcule la prime pure par v√©hicule
2. Calcule la prime commerciale
3. Quel serait le S/P (ratio sinistres sur primes) si l'ann√©e suivante, 450 sinistres surviennent avec un co√ªt moyen de 2 800 ‚Ç¨ ?

::: {.callout-note collapse="true"}
## Voir la solution

**1. Prime pure**

$$\text{Prime pure} = \text{Fr√©quence} \times \text{S√©v√©rit√©} = 0.08 \times 2500 = 200 \text{ ‚Ç¨}$$

**2. Prime commerciale**

Soit $P_c$ la prime commerciale :

$$P_c = \text{Prime pure} + \text{Frais gestion} + \text{Frais acquisition} + \text{Marge}$$

$$P_c = 200 + 0.15 \times 200 + 0.10 \times 200 + 0.05 \times P_c$$

$$P_c = 200 + 30 + 20 + 0.05 \times P_c$$

$$0.95 \times P_c = 250$$

$$P_c = 263.16 \text{ ‚Ç¨}$$

**3. S/P r√©alis√©**

- Primes encaiss√©es : $5000 \times 263.16 = 1\,315\,800$ ‚Ç¨
- Sinistres pay√©s : $450 \times 2800 = 1\,260\,000$ ‚Ç¨
- S/P = $1\,260\,000 / 1\,315\,800 = 95.8\%$

Le S/P est √©lev√© (>90%), ce qui laisse peu de marge pour les frais. L'ann√©e a √©t√© d√©favorable car la fr√©quence r√©elle (450/5000 = 9%) et la s√©v√©rit√© (2800‚Ç¨) ont d√©pass√© les hypoth√®ses.
:::
:::

:::{.exercice-box}
:::{.exercice-header}
üìù Exercice M2 ‚Äî Analyse de spirale
:::

Un portefeuille auto pr√©sente l'√©volution suivante sur 3 ans :

| Ann√©e | Nb contrats | Nouvelles affaires | R√©siliations | S/P |
|-------|-------------|-------------------|--------------|-----|
| N | 10 000 | - | - | 75% |
| N+1 | 9 500 | 800 | 1 300 | 82% |
| N+2 | 8 800 | 600 | 1 300 | 91% |

**Questions** :

1. Que s'est-il pass√© entre N et N+2 ?
2. Quelles hypoth√®ses peux-tu formuler sur le profil des clients qui partent vs ceux qui restent ?
3. Que conseillerais-tu √† l'assureur ?

:::{.reflexion-box}
**ü§î Piste de r√©flexion**

Pense √† la spirale de d√©gradation vue dans le module. Les chiffres racontent une histoire : regarde l'√©volution du S/P, du taux de r√©siliation, et du volume de nouvelles affaires.
:::
:::

### Exercices Techniques

:::{.exercice-box}
:::{.exercice-header}
üê≥ Exercice T1 ‚Äî Exploration Docker Hub
:::

Rends-toi sur [Docker Hub](https://hub.docker.com) et recherche les images suivantes :

1. `python` ‚Äî Note les diff√©rentes variantes (slim, alpine, bullseye...)
2. `jupyter/scipy-notebook` ‚Äî Image pour la data science
3. `postgres` ‚Äî Base de donn√©es

**Questions** :

1. Quelle est la diff√©rence de taille entre `python:3.10` et `python:3.10-slim` ?
2. Pourquoi utiliserait-on `python:3.10-alpine` ? Quel est l'inconv√©nient ?
3. Combien de pulls (t√©l√©chargements) a l'image `python` officielle ?

::: {.callout-note collapse="true"}
## √âl√©ments de r√©ponse

1. `python:3.10` fait environ **900 Mo**, `python:3.10-slim` environ **150 Mo**. La version slim ne contient pas les outils de compilation et les headers de d√©veloppement.

2. `python:3.10-alpine` est bas√©e sur Alpine Linux (tr√®s l√©ger, ~50 Mo). L'inconv√©nient : certains packages Python (numpy, pandas) sont difficiles √† installer car ils n√©cessitent une compilation avec des d√©pendances qui ne sont pas pr√©sentes par d√©faut sur Alpine.

3. L'image Python officielle a **plus d'un milliard de pulls** ‚Äî c'est l'une des images les plus utilis√©es !
:::
:::

:::{.exercice-box}
:::{.exercice-header}
üê≥ Exercice T2 ‚Äî Manipulation de conteneurs
:::

Effectue les manipulations suivantes et note les commandes utilis√©es :

1. Lance un conteneur Python en mode interactif
2. Dans le conteneur, ex√©cute `import sys; print(sys.version)`
3. Sors du conteneur
4. Liste tous les conteneurs (y compris arr√™t√©s)
5. Supprime le conteneur que tu viens de cr√©er

::: {.callout-note collapse="true"}
## Solution

```bash
# 1. Lancer Python interactif
docker run -it python:3.10 python

# 2. Dans Python
>>> import sys; print(sys.version)
3.10.x (...)
>>> exit()

# 3. Tu es sorti automatiquement avec exit()

# 4. Lister tous les conteneurs
docker ps -a

# 5. Supprimer le conteneur (remplace CONTAINER_ID par l'ID affich√©)
docker rm CONTAINER_ID

# Astuce : pour √©viter d'avoir √† supprimer, utilise --rm
docker run -it --rm python:3.10 python
```
:::
:::

:::{.exercice-box}
:::{.exercice-header}
üê≥ Exercice T3 ‚Äî Dockerfile personnalis√©
:::

Cr√©e un Dockerfile qui :

1. Part de l'image `python:3.10-slim`
2. Installe `pandas` et `numpy`
3. Copie un script `hello.py` qui affiche "Bonjour depuis Docker !"
4. Ex√©cute ce script au d√©marrage

**Fichier `hello.py`** :

```python
import pandas as pd
import numpy as np

print("=" * 40)
print("üê≥ Bonjour depuis Docker !")
print(f"   pandas version: {pd.__version__}")
print(f"   numpy version: {np.__version__}")
print("=" * 40)
```

::: {.callout-note collapse="true"}
## Solution

**requirements.txt** :
```text
pandas==2.0.3
numpy==1.24.3
```

**Dockerfile** :
```dockerfile
FROM python:3.10-slim

WORKDIR /app

COPY requirements.txt .
RUN pip install --no-cache-dir -r requirements.txt

COPY hello.py .

CMD ["python", "hello.py"]
```

**Commandes** :
```bash
docker build -t hello-docker:v1 .
docker run --rm hello-docker:v1
```
:::
:::

---

## üîó Faire le pont m√©tier-technique

:::{.reflexion-box}
### ü§î Questions de r√©flexion

Ces questions n'ont pas de "bonne r√©ponse" unique. Elles sont l√† pour t'aider √† connecter les deux volets de la formation.

1. **En quoi Docker peut-il aider √† √©viter des erreurs dans les calculs de sinistralit√© ?**
   
   Pense √† la reproductibilit√© : si ton mod√®le de tarification donne des r√©sultats diff√©rents selon la machine, quelles cons√©quences pour l'assureur ?

2. **Comment pourrais-tu utiliser Docker pour ton projet central de pilotage de portefeuille ?**
   
   Imagine l'architecture : une API de scoring, un dashboard, une base de donn√©es... Comment Docker faciliterait le d√©ploiement ?

3. **Dans ton exp√©rience chez AON ou ASCENTIEL, as-tu rencontr√© des probl√®mes de reproductibilit√© ou de "√ßa marche sur ma machine" ?**
   
   Comment Docker aurait-il pu aider ?
:::

---

## ‚úÖ Checklist de fin de semaine

Avant de passer √† la Semaine 2, v√©rifie que tu as :

:::{.checklist}
- Termin√© la lecture du Module M√©tier 1
- R√©pondu aux 4 questions d'auto-√©valuation du Module M√©tier
- Termin√© la lecture du Module Technique 1
- Install√© Docker et v√©rifi√© son fonctionnement
- Produit le Livrable 1 (fiche de synth√®se)
- Produit le Livrable 2 (capture d'√©cran Docker)
- Produit le Livrable 3 (script dockeris√©)
- R√©alis√© au moins 2 exercices m√©tier
- R√©alis√© au moins 2 exercices techniques
:::

---

## üì¨ Pour le d√©briefing

Quand tu auras termin√©, envoie-moi :

1. Ta **fiche de synth√®se** (Livrable 1)
2. Ta **capture d'√©cran Docker** (Livrable 2)
3. Ton **projet dockeris√©** (Livrable 3) ‚Äî tu peux partager le code directement ou via GitHub
4. Tes **questions** √©ventuelles

Je te ferai un retour et on validera ensemble avant de passer √† la Semaine 2 !

---

[‚Üê Retour √† la Semaine 1](index.html){.btn .btn-secondary}
[Module M√©tier 1](module-metier-01.html){.btn .btn-outline-primary}
[Module Technique 1](module-technique-01.html){.btn .btn-outline-primary}
