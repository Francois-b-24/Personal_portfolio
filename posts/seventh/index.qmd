---
title: "Analyse du march√© horloger de luxe"
title-block-banner: true
toc: true
toc-title: üìö Table des mati√®res
lang: fr
number-sections: true
subtitle: ""
author: "`BOUSSENGUI Fran√ßois`"
description: "*Qu'est-ce qui d√©termine le prix d'une montre ?*"
image: "CUBITUS.jpg"
categories: [Data science]
format:
    html:
        code-fold: true 
        code-line-numbers: false
        anchor-sections: true
        smooth-scroll: true
        citations-hover: true
        footnotes-hover: true
        html-math-method: mathjax
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = FALSE, fig.align = "center", out.width = "100%")
```

```{r echo=FALSE, warning =FALSE}
library(reticulate)
use_virtualenv("/Users/f.b/.virtualenvs/r-reticulate")
```

# **Contexte g√©n√©ral de l‚Äôanalyse du march√© de l‚Äôhorlogerie**

L‚Äôindustrie horlog√®re est un secteur dynamique et hautement concurrentiel, o√π les tendances de prix et les pr√©f√©rences des consommateurs √©voluent constamment. Afin de mieux comprendre les comportements les variations de prix, et les caract√©ristiques des montres propos√©es sur le march√©, cette analyse se concentre sur l‚Äôexploration des donn√©es collect√©es √† partir de Chrono24, l‚Äôune des principales plateformes de vente de montres de luxe en ligne.

# **Objectif de l‚Äôanalyse**

L‚Äôobjectif principal de cette analyse est de fournir des insights pertinents sur les tendances actuelles du march√© des montres en se basant sur des donn√©es provenant de Chrono24. √Ä travers le *scraping* de donn√©es en ligne, nous avons extrait des informations d√©taill√©es sur un large √©ventail de montres propos√©es √† la vente, notamment :

- **Prix des montres** : Donn√©es sur les prix demand√©s pour diff√©rentes marques, mod√®les, et √©tats des montres.

-	**Caract√©ristiques des montres** : Informations sur les sp√©cifications telles que les mat√©riaux utilis√©s (acier, or, etc.), le type de mouvement, la taille, et les autres caract√©ristiques techniques.

- **Marques populaires** : Identification des marques les plus recherch√©es et les plus propos√©es sur le march√©.

- **√âvolution des prix** : Analyse des variations de prix des montres selon des crit√®res comme la marque, la mati√®re du bo√Ætier, ou la raret√©.

# **M√©thodologie**

Les donn√©es ont √©t√© collect√©es par scraping depuis le site web de Chrono24 √† l‚Äôaide d‚Äôoutils **Python** tels que *BeautifulSoup* et *Selenium*. Ce processus a permis d‚Äôextraire un ensemble de donn√©es riche et diversifi√© sur les montres mises en vente, comprenant des informations sur les prix, les marques, les mat√©riaux, les tailles, et bien plus encore. Ces donn√©es ont ensuite √©t√© nettoy√©es et pr√©par√©es pour l‚Äôanalyse √† l‚Äôaide de biblioth√®ques telles que *Pandas* et *NumPy*.

L‚Äôanalyse s‚Äôest articul√©e autour de plusieurs axes :

- **Analyse descriptive** : Statistiques de base (moyenne, m√©diane, √©cart-type) sur les prix des montres et leurs caract√©ristiques.

- **Visualisation des donn√©es** : Utilisation de graphiques pour repr√©senter la distribution des prix par marque, la r√©partition des mat√©riaux, et d‚Äôautres caract√©ristiques pertinentes.

- **Mod√©lisation pr√©dictive** : D√©veloppement de mod√®les permettant de pr√©dire les variations de prix en fonction de certains facteurs comme la marque, le type de mouvement, et l‚Äô√©tat de la montre.

::: {.callout-tip icon="false" collapse="true"}
## Pr√©sentation des variables de la base donn√©es

| Variables               | Interpr√©tation                                |
|:------------------------|:----------------------------------------------|
| `Marque`                | Marque de la montre                           |
| `Mod√®le`                | Mod√®le de la montre                           |
| `mouvement`             | Type de mouvement (manuel, autmatique, etc. ) |
| `Matiere du bo√Ætier`    | Mati√®re du bo√Ætier (acier, or, etc. )         |
| `Matiere du bracelet`   | Mati√®re du bracelet (or, acier, caoutchouc)   |
| `Etat de la montre`     | Etat de la montre (Bon, mauvais, etc. )       |
| `Sexe`                  | cat√©gorie de la montre : homme/femme          |
| **prix**                | Prix de la montre (en ‚Ç¨)                      |
| `R√©serve de macrhe`     | Niveau de r√©serve de marche de la montre      |
| `Diam√®tre`              | Diam√®tre de la montre                         |
| `Etench√©it√©`            | Niveau d'√©tench√©it√© de la montre              |
| `matiere de la lunette` | Mati√®re de la lunette de la montre            |
| `matiere du verre`      | Mati√®re du verre de la montre                 |
| `matiere de la boucle`  | Mati√®re de la boucle de la montre             |
| `Pays`                  | Pays de provenance de la montre |

# **R√©sultats attendus**

√Ä travers cette analyse, nous cherchons √† obtenir une vue d‚Äôensemble des tendances actuelles du march√© des montres de luxe. Cela permettra de r√©pondre √† plusieurs questions cl√©s :

- Quelles sont les marques les plus recherch√©es et les plus co√ªteuses ?
	 
- Comment les caract√©ristiques (mat√©riaux, type de mouvement, etc.) influent-elles sur le prix des montres ?
	
- Existe-t-il des tendances saisonni√®res ou g√©ographiques influen√ßant les prix ?
	
- Quels sont les segments du march√© (par exemple, les montres vintage, les √©ditions limit√©es) les plus attractifs pour les acheteurs ?

# **Applications de l‚Äôanalyse**

Les r√©sultats de cette analyse peuvent √™tre utilis√©s pour :
- Les revendeurs : Affiner leur strat√©gie de tarification en fonction des tendances observ√©es sur le march√©.
	
- Les acheteurs : Obtenir une vue d‚Äôensemble des prix moyens et des bonnes affaires dans le march√© de l‚Äôhorlogerie.
	
- Les marques et fabricants : Comprendre les attentes des consommateurs et les tendances de demande en mati√®re de mod√®les sp√©cifiques ou de caract√©ristiques.

En r√©sum√©, cette analyse vise √† fournir une compr√©hension approfondie des dynamiques du march√© de l‚Äôhorlogerie via les donn√©es issues de Chrono24, ce qui pourra servir √† la fois pour des √©tudes de march√©, des pr√©visions de prix, et la d√©finition de strat√©gies commerciales adapt√©es.
             
:::

# Outil technique

-   Le projet a enti√®rement √©t√© developp√© en Python {{< fa brands python >}}

::: {style="text-align:center;"}
[*Cliquer ici pour voir le code source.*](https://github.com/Francois-b-24/Clock_industry-second_hand/tree/main)
:::



# R√©sultats

```{python, echo=FALSE, warning = FALSE}

import pandas as pd
from nettoyage import Nettoyage
import sqlite3

import numpy as np
from Graphique import graphique as rep
import seaborn as sns

path_load = '/Users/f.b/Desktop/Data_Science/Clock_industry/lib/data/montre.db'
path_save = '/Users/f.b/Desktop/Data_Science/Clock_industry/lib/data/base.csv'

def chargement_base(path_load, path_save):
   
        connexion = sqlite3.connect(path_load)

        # Ex√©cution d'une requ√™te SQL pour r√©cup√©rer des donn√©es et conversion en DataFrame
        df = pd.read_sql_query('SELECT * FROM montre', connexion)

        # Fermeture de la connexion
        connexion.close()

        # Conversion de la base en format CSV 
        
        df.to_csv(path_save)

        # Chargement de la BDD sans la colonne id: 
        df = df.iloc[:, 1:]
        return df 

df = chargement_base(path_load, path_save)

nettoyage = Nettoyage(df)

df = nettoyage.nettoyage_colonnes()

colonnes_a_renseigner = ['matiere_boitier',
                         'matiere_bracelet',
                         'sexe',
                         'diametre',
                         'etencheite',
                         'matiere_lunette',
                         'matiere_verre',
                         'boucle',
                         'matiere_boucle',
                         'rouage',
                         'reserve_de_marche', 
                         'mouvement']

for col in colonnes_a_renseigner:
    df = nettoyage.remplissage(col)
    
    
df = nettoyage.remplissage_mouvement()
df = nettoyage.remplissage_reserve_marche()
df = nettoyage.compteur_complications('fonctions')
df = nettoyage.suppression_colonnes()

df = nettoyage.mise_en_forme()
df = nettoyage.nettoyer_matiere_boitier()
df = nettoyage.matiere()
df = nettoyage.mapping_matiere()
df = nettoyage.regroupement_etat_montres()
df = nettoyage.extraction_elements_avant_euro()
df = nettoyage.nettoyer_valeurs('prix')
df = nettoyage.extraction_integer()

rep = rep(df)

# Cr√©ation d'une variable de prix en logarithme qui nous sera utile lors de mod√©lisation pour respecter les hypoth√®ses des mod√®les.
df['prix_log'] = np.log(df['prix'])

# Cr√©ation d'une variable de prix d√©flat√©e de 6%. ==> Tiens compte de la commission appliqu√©e sur le prix de vente

df['prix_sc'] = df['prix']*(1-0.06)


df['prix_log'] = np.log(df['prix_sc'])
```

## R√©partition des prix par provenances : 

```{python, echo=FALSE, warning = FALSE, warning = FALSE}
effectif = rep.effectif_pays()
rep.tab_pays(effectif)
```

```{python, echo=FALSE, warning = FALSE}
statistic_sorted = rep.stat_pays(effectif)
rep.tab_pays_2(statistic_sorted)
```

## R√©partition des prix selon le type de mouvement :

```{python, echo=FALSE, warning = FALSE}
rep.tableau('mouvement')
```

```{python, echo=FALSE, warning = FALSE}
rep.boxplot('mouvement')
```

```{python, echo=FALSE, warning = FALSE}
rep.barres('mouvement')
```

## R√©partition des prix selon le sexe :

```{python, echo=FALSE, warning = FALSE}
rep.tableau('sexe')
```

```{python, echo=FALSE, warning = FALSE}
rep.boxplot('sexe')
```

```{python, echo=FALSE, warning = FALSE}
rep.barres('sexe')
```

## R√©partition des prix selon la marque :

```{python, echo=FALSE, warning = FALSE}
rep.tableau('marque')
```



## R√©partition des prix selon la mati√®re du boitier :

```{python, echo=FALSE, warning = FALSE}
rep.tableau('matiere_boitier')
```

```{python, echo=FALSE, warning = FALSE}
rep.barres('matiere_boitier')
```

## R√©partition des prix selon la mati√®re du bracelet :

```{python, echo=FALSE, warning = FALSE}
rep.tableau('matiere_bracelet')
```

```{python, echo=FALSE, warning = FALSE}
rep.barres('matiere_bracelet')
```

## R√©partition des prix selon l'√©tat de la montre :

```{python, echo=FALSE, warning = FALSE}
rep.tableau('matiere_bracelet')
```

```{python, echo=FALSE, warning = FALSE}
rep.barres('matiere_bracelet')
```
 
## R√©partition des prix selon la mati√®re de la lunette :

```{python, echo=FALSE, warning = FALSE}
rep.tableau('matiere_lunette')
```

```{python, echo=FALSE, warning = FALSE}
rep.barres('matiere_lunette')
```

## R√©partition des prix selon la mati√®re de la boucle :

```{python, echo=FALSE, warning = FALSE}
rep.tableau('matiere_boucle')
```

```{python, echo=FALSE, warning = FALSE}
rep.barres('matiere_boucle')
```

## R√©partition des prix selon le type de boucle :

```{python, echo=FALSE, warning = FALSE}
rep.tableau('boucle')
```

```{python, echo=FALSE, warning = FALSE}
rep.barres('boucle')
```

## R√©partition des prix selon le nombre de complications :

```{python, echo=FALSE, warning = FALSE}
rep.tableau('comptage_fonctions')
```

```{python, echo=FALSE, warning = FALSE}
rep.barres('comptage_fonctions')
```

## R√©partition des prix selon le diam√®tre de la montre :

```{python, echo=FALSE, warning = FALSE}
sns.scatterplot(x=df.diametre, y=df.prix)
```

## R√©partition des prix selon le niveau d'√©tench√©it√© :

```{python, echo=FALSE, warning = FALSE}
sns.scatterplot(x=df.etencheite, y=df.prix)
```

